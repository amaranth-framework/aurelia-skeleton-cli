<template>
    <require from="./form.less"></require>

    <form class.bind="style" id.bind="settings.name" name.bind="settings.name">

        <!-- This is a Bootstrap 3 form, so we're using .form-group -->
        <div repeat.for="input of formConfig()" if.bind="input.type !== 'hidden'" class.bind="_input(input).validationStyle" validation-errors.bind="_input(input).validationErrors" class="form-group">

            <!-- Standard Bootstrap form label. -->
            <label class.bind="labelStyle()" for.bind="_input(input).id" if.bind="!isMaterialForm() && input.label && input.type !== 'hidden'">${input.label}</label>

            <div class.bind="inputStyle()">

                <!-- Input / text, password, date, file -->
                <input class.bind="_input(input).isFilled ? 'is-filled' : ''" id.bind="_input(input).id" if.bind="isTextInput(input)" placeholder="${input.placeholder || input.label}" type.bind="input.type" value.bind="$parent[input.name] & validate" class="form-control">

                <!-- Textarea -->
                <textarea if.bind="isTextarea(input)" id.bind="_input(input).id" class.bind="_input(input).isFilled ? 'is-filled' : ''" placeholder="${input.placeholder || input.label}" value.bind="$parent[input.name] & validate" class="form-control"></textarea>

                <!-- Select using value.bind -->
                <select if.bind="isSelect(input) && !input.bindByModel" id.bind="_input(input).id" multiple.bind="input.multiple" value.bind="$parent[input.name] & validate" class="form-control">
                    <option repeat.for="item of input.values" disabled.bind="item.disabled" label.bind="item.label" model.bind="item.value">${item.label}</option>
                </select>
                <!-- Select using model.bind -->
                <select if.bind="isSelect(input) && input.bindByModel" id.bind="_input(input).id" multiple.bind="input.multiple" value.bind="$parent[input.name] & validate" class="form-control">
                    <option repeat.for="item of input.values" disabled.bind="item.disabled" label.bind="item.label" model.bind="item">${item.label}</option>
                </select>

                <!--  Checkbox/Radio Lists -->
                <div class="${input.type}" if.bind="isCheckable(input)">
                    <label repeat.for="item of input.values" for.bind="_input(input).id + '-' + $index">
                        <!-- Using value.bind -->
                        <input if.bind="!input.bindByModel" checked.two-way="$parent.$parent[input.name] & validate" disabled.bind="item.disabled" id.bind="_input(input).id + '-' + $index" name.bind="input.name + (input.type === 'checkbox' ? '[]' : '')" model.bind="item.value" type.bind="input.type">
                        <!-- Using model.bind -->
                        <input if.bind="input.bindByModel" checked.two-way="$parent.$parent[input.name] & validate" disabled.bind="item.disabled" id.bind="_input(input).id + '-' + $index" model.bind="item" name.bind="input.name + (input.type === 'checkbox' ? '[]' : '')" type.bind="input.type">
                        <span></span> ${item.label}
                    </label>
                </div>

                <!-- Component -->
                <div if.bind="isComponent(input)" class="${input.type}">

                </div>

                <!-- Display label for .form--material -->
                <label for.bind="_input(input).id" if.bind="isMaterialForm() && input.label && input.type !== 'hidden'">${input.label}</label>

                <span if.bind="input.helpblock" class="help-block">
                    ${input.helpblock}
                </span>
                <span repeat.for="x of _input(input).validationErrors" class="help-block is-error">
                    ${x.error.message}
                </span>
            </div>
        </div>

        <input repeat.for="input of formConfig()" if.bind="input.type === 'hidden'" id.bind="_input(input).id" value.bind="$parent[input.name]" type="hidden">
    </form>
</template>
